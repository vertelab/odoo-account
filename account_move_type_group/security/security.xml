<odoo>
    <data>

        <!-- res.group for account move - start -->
        <record id="group_account_move_type_out" model="res.groups">
            <field name="name">Out-Type Invoices</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_account_move_type_in" model="res.groups">
            <field name="name">In-Type Invoices</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>
        <!-- res.group for account move - end -->

        <!-- ir.model.access account move - start -->
        <record model="ir.model.access" id="access_account_period_for_move_type_in_users">
            <field name="name">access_account_period_for_move_type_in_users</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="group_id" ref="account_move_type_group.group_account_move_type_in"/>
            <field name="perm_read">1</field>
            <field name="perm_write">1</field>
            <field name="perm_create">0</field>
            <field name="perm_unlink">0</field>
        </record>

        <record model="ir.model.access" id="access_account_period_for_move_type_out_users">
            <field name="name">access_account_period_for_move_type_out_users</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="group_id" ref="account_move_type_group.group_account_move_type_out"/>
            <field name="perm_read">1</field>
            <field name="perm_write">1</field>
            <field name="perm_create">0</field>
            <field name="perm_unlink">0</field>
        </record>
        <!-- ir.model.access account move - end -->


        <!-- ir.rule for account move - start -->
        <record id="account_move_rule_type_out" model="ir.rule">
            <field name="name">Account move rule for account type: out_invoice, out_refund, out_receipt </field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="groups" eval="[(4, ref('account_move_type_group.group_account_move_type_out')), (4, ref('account.group_account_invoice'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="domain_force">['|', ('journal_id.group_id.users', 'in', user.ids), ('journal_id.group_id', '=', False)]</field>
        </record>

        <record id="account_move_rule_type_in" model="ir.rule">
            <field name="name">Account move rule for account type: in_invoice, in_refund, in_receipt</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="groups" eval="[(4, ref('account_move_type_group.group_account_move_type_in')), (4, ref('account.group_account_invoice'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="domain_force">['|', ('journal_id.group_id.users', 'in', user.ids), ('journal_id.group_id', '=', False)]</field>
        </record>
        <!-- ir.rule for account move - end -->


        <!-- override some ir.rules for this to work: start -->
        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('module', '=', 'account')]" />
            </function>
            <value eval="{'noupdate': False}" />
        </function>

            <record id="account.account_move_see_all" model="ir.rule">
                <field name="perm_read" eval="False"/>
                <field name="perm_write" eval="True"/>
                <field name="perm_create" eval="True"/>
                <field name="perm_unlink" eval="True"/>
            </record>

            <record id="account.account_move_rule_group_invoice" model="ir.rule">
                <field name="perm_read" eval="False"/>
                <field name="perm_write" eval="True"/>
                <field name="perm_create" eval="True"/>
                <field name="perm_unlink" eval="True"/>
            </record>

        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('module', '=', 'account')]" />
            </function>
            <value eval="{'noupdate': True}" />
        </function>

        <!-- override some ir.rules for this to work: end -->




    </data>
</odoo>